Attempting to turn rendering code into API.
